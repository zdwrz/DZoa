package org.trs.oa.dao;import org.trs.oa.entity.Project;import org.trs.oa.vo.ProjectVO;import org.hibernate.Query;import org.hibernate.Session;import org.hibernate.transform.Transformers;import org.springframework.stereotype.Repository;import javax.persistence.EntityManager;import javax.persistence.PersistenceContext;import java.util.List;/** * Created by Dawei on 9/1/16. */@Repositorypublic class ProjectDAOImpl implements ProjectDAO {    @PersistenceContext    EntityManager em;    @Override    public Project saveProject(Project project) {        return em.merge(project);    }    @Override    public List<Project> getProject() {        return em.createNamedQuery("Project.findAll", Project.class).getResultList();    }    @Override    public List<ProjectVO> getProjectNameList() {        Session session = em.unwrap(Session.class);        Query query = session.createSQLQuery("select p.name as name, p.description as 'desc' from Project p");        query.setResultTransformer(Transformers.aliasToBean(ProjectVO.class));        return query.list();    }}